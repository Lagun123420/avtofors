function openMobileMenu(){const e=document.querySelector(".popup-menu-mobile");e.className.includes("active")?e.classList.remove("active"):e.classList.add("active")}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".body"),t=document.getElementById("loader"),n=document.querySelector(".left-gate"),o=document.getElementById("logo_image");setTimeout((()=>{n.classList.add("toHideLeft"),o.classList.add("hideLogo")}),300),setTimeout((()=>{e.classList.remove("overflowHiden"),t.classList.remove("active")}),700);const a=document.querySelector(".popup-menu-mobile");a.addEventListener("click",(e=>{e.target!==a||openMobileMenu()}));const c=document.querySelectorAll(".section");const i=new IntersectionObserver((function(e,t){e.forEach((e=>{if(e.isIntersecting){const t=Array.from(c).indexOf(e.target);t>=0&&setTimeout((()=>{c[t].classList.add("active")}),400)}}))}),{root:null,rootMargin:"0px",threshold:0});c.forEach((e=>i.observe(e))),document.getElementById("container-button-phone").addEventListener("click",(function(e){e.preventDefault(),document.getElementById("popup-form-container").classList.add("active"),document.getElementById("container-button-phone").classList.add("hiden")})),document.getElementById("close-form-btn").addEventListener("click",(function(e){e.preventDefault(),document.getElementById("popup-form-container").classList.remove("active"),document.getElementById("container-button-phone").classList.remove("hiden")})),document.getElementById("call-back-form").addEventListener("submit",(function(e){e.preventDefault();const t={phone:String(document.getElementById("phone").value),name:String(document.getElementById("name").value),vin:String(document.getElementById("vin").value),comment:String(document.getElementById("comment").value)};var n,o;(/^\+?[0-9]{8,12}$/.test(t.phone)?phoneIsValid=!0:phoneIsValid=!1)?(n=t.name).length>=2&&n.length<=30?""===(o=t.vin)||17===o.length?(document.getElementById("popup-form-container").classList.remove("active"),fetch("https://avtofors.pl/api/handleNewRequest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.text())).then((e=>document.getElementById("popup-thanks-container").classList.add("active"))).catch((e=>{}))):alert("Please enter a valid VIN with exactly 17 characters or leave it empty."):alert("Please enter a valid name with 2 to 30 characters."):alert("Please enter a valid phone number with 9 to 13 characters, only digits and an optional leading plus sign.")})),document.getElementById("continue_btn").addEventListener("click",(()=>{document.getElementById("popup-thanks-container").classList.remove("active"),document.getElementById("container-button-phone").classList.remove("hiden")}))}));
